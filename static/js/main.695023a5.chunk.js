(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{37:function(n,e,t){"use strict";t.r(e);var c,r,a,i,o,s,b,d=t(1),u=t(22),j=t.n(u),l=t(4),O=t(2),f=t(3),m=Object(f.a)(c||(c=Object(O.a)(["\n/*\n  CSS reset \n  http://meyerweb.com/eric/tools/css/reset/ \n  v2.0 | 20110126\n  License: none (public domain)\n*/\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  \n  /* below is not part of css reset */\n  body {\n    background-color: #FFF;\n  }\n\n"]))),h=t(9),p=t(5),x="token",g=function(n){localStorage.setItem(x,n)},v=function(){return localStorage.getItem(x)},y="https://student-json-api.lidemy.me",k=function(n,e){return fetch("".concat(y,"/posts?_sort=createdAt&_order=desc&_start=").concat(n,"&_limit=").concat(e)).then((function(n){return n.json()}))},w=function(n){return fetch("".concat(y,"/posts/").concat(n)).then((function(n){return n.json()}))},S=function(){var n=v();return fetch("".concat(y,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},z=t(0),C=f.b.div(r||(r=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),F=f.b.div(a||(a=Object(O.a)(["\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  border-bottom: 1px solid #555;\n"]))),I=Object(f.b)(h.b)(i||(i=Object(O.a)(["\n  font-size: 1.5rem;\n  text-decoration: none;\n  color: black;\n"]))),q=f.b.div(o||(o=Object(O.a)(["\n  color: rgba(0, 0, 0, 0.5);\n"])));function E(n){var e=n.post;return Object(z.jsxs)(F,{children:[Object(z.jsx)(I,{to:"/posts/".concat(e.id),children:e.title}),Object(z.jsx)(q,{children:new Date(e.createdAt).toLocaleString()})]})}var A=f.b.div(s||(s=Object(O.a)(["\n  text-align: center;\n  padding: 1rem 0;\n  font-size: 1.2rem;\n\n  p {\n    margin-top: 1rem;\n  }\n\n  button {\n    font-size: 1.2rem;\n    margin: 0 1rem;\n  }\n"]))),P=f.b.a(b||(b=Object(O.a)(["\n  padding: 0 1rem;\n  cursor: pointer;\n\n  ","\n"])),(function(n){return n.$active&&"\n      background: rgba(0,0,0,0.15)\n    "}));function D(n){var e=n.onClick,t=n.children;return Object(z.jsx)("button",{onClick:e,children:t})}function $(n){var e=n.pageArray,t=n.handlePageChanged,c=n.currentPage,r=n.handleCurrentPosts;return Object(z.jsxs)(A,{children:[Object(z.jsx)(D,{onClick:t,children:"\u4e0a\u4e00\u9801"}),e.map((function(n){return Object(z.jsx)(P,{$active:c===n,onClick:r,children:n},n)})),Object(z.jsx)(D,{onClick:t,children:"\u4e0b\u4e00\u9801"})]})}function L(){var n=Object(d.useState)([]),e=Object(l.a)(n,2),t=e[0],c=e[1],r=Object(d.useState)(1),a=Object(l.a)(r,2),i=a[0],o=a[1],s=Object(d.useState)(t),b=Object(l.a)(s,2),u=b[0],j=b[1];Object(d.useLayoutEffect)((function(){fetch("".concat(y,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){return c(n)})),k(0,5).then((function(n){j(n)}))}),[]);for(var O=Math.ceil(t.length/5),f=[],m=1;m<=O;m++)f.push(m);Object(d.useEffect)((function(){k(5*(i-1),5).then((function(n){return j(n)}))}),[i]);var h=Object(d.useCallback)((function(n){var e=n.target.innerText;if("\u4e0a\u4e00\u9801"===e){if(i<=1)return;o((function(n){return n-1}))}if("\u4e0b\u4e00\u9801"===e){if(i>=O)return;o((function(n){return n+1}))}}),[i,O]),p=Object(d.useCallback)((function(n){var e=Number(n.target.innerText);o(e)}),[]);return Object(z.jsxs)(C,{children:[u.map((function(n){return Object(z.jsx)(E,{post:n},n.id)})),Object(z.jsx)($,{pageArray:f,handlePageChanged:h,currentPage:i,handleCurrentPosts:p})]})}var N,T,_,J,B,U,H,M,R,V,G=Object(d.createContext)(null),K=f.b.div(N||(N=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n"]))),Q=f.b.form(T||(T=Object(O.a)(["\n  font-size: 1.2rem;\n"]))),W=f.b.input(_||(_=Object(O.a)(["\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n"]))),X=f.b.input(J||(J=Object(O.a)(["\n  text-decoration: none;\n  font-size: 1.2rem;\n  padding: 0.5rem 1rem;\n  background: #555;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  "})),Y=f.b.div(B||(B=Object(O.a)(["\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n"])));function Z(){var n=Object(d.useContext)(G).setUser,e=Object(d.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.useState)(""),i=Object(l.a)(a,2),o=i[0],s=i[1],b=Object(d.useState)(""),u=Object(l.a)(b,2),j=u[0],O=u[1],f=Object(p.f)(),m=Object(d.useState)(!1),h=Object(l.a)(m,2),x=h[0],v=h[1],k=function(){O(""),v(!1)};return Object(z.jsx)(K,{children:Object(z.jsxs)(Q,{onSubmit:function(e){e.preventDefault(),function(n,e){return fetch("".concat(y,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))}(c,o).then((function(e){if(0===e.ok)return v(!0),O(e.message);g(e.token),S().then((function(e){if(1!==e.ok)return g(null),v(!0),O(e.message);n(e.data),f.push("/")}))})),r(""),s(""),v(!1)},children:[Object(z.jsxs)("div",{children:["\u5e33\u865f:",Object(z.jsx)(W,{value:c,onChange:function(n){r(n.target.value)},onFocus:k})]}),Object(z.jsxs)("div",{children:["\u5bc6\u78bc",Object(z.jsx)(W,{value:o,onChange:function(n){s(n.target.value)},onFocus:k,type:"password"})]}),Object(z.jsx)(X,{type:"submit",value:"\u767b\u5165",disabled:x}),j&&Object(z.jsx)(Y,{children:j})]})})}var nn,en,tn,cn,rn,an,on,sn,bn=f.b.div(U||(U=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n"]))),dn=f.b.form(H||(H=Object(O.a)(["\n  font-size: 1.2rem;\n"]))),un=f.b.input(M||(M=Object(O.a)(["\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n"]))),jn=f.b.input(R||(R=Object(O.a)(["\n  text-decoration: none;\n  font-size: 1.2rem;\n  padding: 0.5rem 1rem;\n  background: #555;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  "})),ln=f.b.div(V||(V=Object(O.a)(["\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n"])));function On(){var n=Object(d.useContext)(G).setUser,e=Object(d.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.useState)(""),i=Object(l.a)(a,2),o=i[0],s=i[1],b=Object(d.useState)(""),u=Object(l.a)(b,2),j=u[0],O=u[1],f=Object(d.useState)(""),m=Object(l.a)(f,2),h=m[0],x=m[1],v=Object(p.f)(),k=Object(d.useState)(!1),w=Object(l.a)(k,2),C=w[0],F=w[1],I=function(){x(""),F(!1)};return Object(z.jsx)(bn,{children:Object(z.jsxs)(dn,{onSubmit:function(e){e.preventDefault(),function(n,e,t){return fetch("".concat(y,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:n,password:e})}).then((function(n){return n.json()}))}(o,j,c).then((function(e){if(0===e.ok)return F(!0),x(e.message);g(e.token),S().then((function(e){if(1!==e.ok)return g(null),F(!0),x(e.message);n(e.data),v.push("/")}))})),r(""),s(""),O(""),F(!1)},children:[Object(z.jsxs)("div",{children:["\u66b1\u7a31\uff1a",Object(z.jsx)(un,{value:c,onChange:function(n){r(n.target.value)},onFocus:I})]}),Object(z.jsxs)("div",{children:["\u5e33\u865f\uff1a",Object(z.jsx)(un,{value:o,onChange:function(n){s(n.target.value)},onFocus:I})]}),Object(z.jsxs)("div",{children:["\u5bc6\u78bc\uff1a",Object(z.jsx)(un,{value:j,onChange:function(n){O(n.target.value)},onFocus:I,type:"password"})]}),Object(z.jsx)(jn,{type:"submit",value:"\u8a3b\u518a",disabled:C}),h&&Object(z.jsx)(ln,{children:h})]})})}var fn,mn,hn,pn,xn,gn,vn=f.b.div(nn||(nn=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),yn=f.b.div(en||(en=Object(O.a)(["\n  padding: 16px;\n"]))),kn=f.b.h2(tn||(tn=Object(O.a)(["\n  font-size: 1.5rem;\n  clear: both;\n"]))),wn=f.b.div(cn||(cn=Object(O.a)(["\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n"]))),Sn=f.b.p(rn||(rn=Object(O.a)([""]))),zn=f.b.p(an||(an=Object(O.a)([""]))),Cn=f.b.p(on||(on=Object(O.a)(["\n  white-space: pre-wrap;\n"]))),Fn=Object(f.b)(h.b)(sn||(sn=Object(O.a)(["\n  font-size: 1.2rem;\n  display: inline-block;\n  background: #555;\n  color: #fff;\n  border: 1px solid black;\n  text-decoration: none;\n  padding: 0.4rem 0.8rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  float: right;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n"])));function In(n){var e=n.articleId,t=n.user,c=Object(d.useState)([]),r=Object(l.a)(c,2),a=r[0],i=r[1],o=Object(d.useState)(!1),s=Object(l.a)(o,2),b=s[0],u=s[1];return Object(d.useEffect)((function(){w(e).then((function(n){return i(n)}))}),[e]),Object(d.useEffect)((function(){t&&t.id===a.userId&&u(!0)}),[t,a.userId]),Object(z.jsxs)(yn,{children:[b&&Object(z.jsx)(Fn,{to:"/edit-page/".concat(e),children:"\u7de8\u8f2f\u6587\u7ae0"}),Object(z.jsx)(kn,{children:a.title}),Object(z.jsxs)(wn,{children:[Object(z.jsxs)(Sn,{children:["\u4f5c\u8005\uff1a",a.userId]}),Object(z.jsx)(zn,{children:new Date(a.createdAt).toLocaleString()})]}),Object(z.jsx)(Cn,{children:a.body})]})}function qn(){var n=Object(p.h)().articleId,e=Object(d.useContext)(G).user;return Object(z.jsx)(vn,{children:Object(z.jsx)(In,{articleId:n,user:e})})}var En,An,Pn,Dn,$n,Ln,Nn=f.b.div(fn||(fn=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),Tn=f.b.h2(mn||(mn=Object(O.a)(["\n  font-size: 1.5rem;\n  padding-left: 2rem;\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 1rem;\n"]))),_n=f.b.p(hn||(hn=Object(O.a)(["\n  padding-left: 2rem;\n\n  span {\n    color: blue;\n    font-weight: bold;\n  }\n"]))),Jn=f.b.div(pn||(pn=Object(O.a)(["\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Bn=f.b.p(xn||(xn=Object(O.a)(["\n  width: 50%;\n  font-size: 2rem;\n  font-weight: bold;\n  color: #555;\n"]))),Un=f.b.p(gn||(gn=Object(O.a)(["\n  width: 50%;\n  white-space: pre-wrap;\n"])));function Hn(){var n=Object(d.useContext)(G).user;return Object(z.jsxs)(Nn,{children:[!n&&alert("\u8acb\u5148\u767b\u5165"),n&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Tn,{children:"About"}),Object(z.jsxs)(_n,{children:["Hi, I am ",Object(z.jsx)("span",{children:n.username})]}),Object(z.jsxs)(Jn,{children:[Object(z.jsx)(Bn,{children:"Either I will find a way, or I will make one."}),Object(z.jsx)(Un,{children:"Lorem ipsum dolor sit amet, cum mandamus euripidis ne. Enim iracundia efficiendi ad vel. Et democritum repudiandae definitiones eam. Duo autem dolore tritani id, vim error reprehendunt at. Nec case eloquentiam referrentur id. At cum ridens mentitum comprehensam, adhuc homero vim an, consul mentitum concludaturque eu mel. Reque movet no vim, id dicam oblique duo. Duo veniam oporteat ne, utinam ridens forensibus sit at. Est ea verterem delicatissimi, case aliquam vix ei. Ad scripta impedit oporteat vix. Vix elitr audiam singulis cu. Ius causae molestie deserunt ea, cum ex meis integre scripserit. Blandit dissentiet eam cu, ius id erat corpora, sea cu volumus imperdiet definitionem. Et vidit debitis mea, vix quod menandri adversarium ad."})]})]})]})}var Mn,Rn,Vn,Gn,Kn,Qn,Wn=f.b.div(En||(En=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1.2rem;\n"]))),Xn=f.b.form(An||(An=Object(O.a)([""]))),Yn=f.b.input(Pn||(Pn=Object(O.a)(["\n  width: 70%;\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n"]))),Zn=f.b.textarea(Dn||(Dn=Object(O.a)(["\n  width: 90%;\n  height: 300px;\n  margin-bottom: 1rem;\n  font-size: 1.2rem;\n"]))),ne=f.b.input($n||($n=Object(O.a)(["\n  display: block;\n  text-decoration: none;\n  background: #6699cc;\n  color: white;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  "})),ee=f.b.div(Ln||(Ln=Object(O.a)(["\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n"])));function te(){var n=Object(d.useContext)(G).user,e=Object(d.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.useState)(""),i=Object(l.a)(a,2),o=i[0],s=i[1],b=Object(d.useState)(""),u=Object(l.a)(b,2),j=u[0],O=u[1],f=Object(p.f)(),m=Object(d.useState)(!1),h=Object(l.a)(m,2),x=h[0],g=h[1],k=function(){O(""),g(!1)};return Object(z.jsx)(Wn,{children:n&&Object(z.jsxs)(Xn,{onSubmit:function(n){n.preventDefault(),function(n,e){var t=v();return fetch("".concat(y,"/posts"),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(t)},body:JSON.stringify({title:n,body:e})}).then((function(n){return n.json()}))}(c,o).then((function(n){if(0===n.ok)return g(!0),O(n.message);f.push("/"),alert("\u65b0\u589e\u6587\u7ae0\u6210\u529f")})),r(""),s(""),g(!1)},children:["\u6587\u7ae0\u6a19\u984c",Object(z.jsx)(Yn,{value:c,onChange:function(n){r(n.target.value)},onFocus:k}),Object(z.jsx)(Zn,{value:o,onChange:function(n){s(n.target.value)},onFocus:k}),Object(z.jsx)(ne,{type:"submit",value:"\u65b0\u589e\u6587\u7ae0",disabled:x}),j&&Object(z.jsx)(ee,{children:j})]})})}var ce,re,ae,ie,oe,se=f.b.div(Mn||(Mn=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1.2rem;\n"]))),be=f.b.form(Rn||(Rn=Object(O.a)([""]))),de=f.b.input(Vn||(Vn=Object(O.a)(["\n  width: 70%;\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n"]))),ue=f.b.textarea(Gn||(Gn=Object(O.a)(["\n  width: 90%;\n  height: 300px;\n  margin-bottom: 1rem;\n  font-size: 1.2rem;\n"]))),je=f.b.input(Kn||(Kn=Object(O.a)(["\n  display: block;\n  text-decoration: none;\n  background: #6699cc;\n  color: white;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n  "})),le=f.b.div(Qn||(Qn=Object(O.a)(["\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n"])));function Oe(){var n=Object(p.h)().articleId,e=Object(d.useContext)(G).user,t=Object(d.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],i=Object(d.useState)(""),o=Object(l.a)(i,2),s=o[0],b=o[1],u=Object(d.useState)(""),j=Object(l.a)(u,2),O=j[0],f=j[1],m=Object(d.useState)(""),h=Object(l.a)(m,2),x=h[0],g=h[1],k=Object(p.f)(),S=Object(d.useState)(!1),C=Object(l.a)(S,2),F=C[0],I=C[1];Object(d.useLayoutEffect)((function(){w(n).then((function(n){a(n)}))}),[n]),Object(d.useEffect)((function(){b(r.title),f(r.body)}),[r]);var q=function(){g(""),I(!1)};return Object(z.jsx)(se,{children:e&&Object(z.jsxs)(be,{onSubmit:function(e){e.preventDefault(),function(n,e,t){var c=v();return fetch("".concat(y,"/posts/").concat(n),{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer ".concat(c)},body:JSON.stringify({title:e,body:t,createdAt:(new Date).valueOf()})}).then((function(n){return n.json()}))}(n,s,O).then((function(e){if(0===e.ok)return I(!0),g(e.message);k.push("/posts/".concat(n)),alert("\u7de8\u8f2f\u6210\u529f")})),I(!1)},children:["\u6587\u7ae0\u6a19\u984c",Object(z.jsx)(de,{value:s,onChange:function(n){b(n.target.value)},onFocus:q}),Object(z.jsx)(ue,{value:O,onChange:function(n){f(n.target.value)},onFocus:q}),Object(z.jsx)(je,{type:"submit",value:"\u7de8\u8f2f\u5b8c\u6210",disabled:F}),x&&Object(z.jsx)(le,{children:x})]})})}var fe=f.b.div(ce||(ce=Object(O.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid black;\n  padding: 0 2rem;\n  font-size: 1.2rem;\n  box-sizing: border-box;\n  background: #fff;\n  color: #555;\n"]))),me=f.b.div(re||(re=Object(O.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]))),he=f.b.h1(ae||(ae=Object(O.a)(["\n  font-weight: bold;\n  font-size: 2rem;\n  margin-right: 1rem;\n"]))),pe=f.b.nav(ie||(ie=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n"]))),xe=Object(f.b)(h.b)(oe||(oe=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  height: 64px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(n){return n.$active&&"\n    background: rgba(0,0,0,0.15)\n  "}));function ge(){var n=Object(p.g)(),e=Object(p.f)(),t=Object(d.useContext)(G),c=t.user,r=t.setUser;return Object(z.jsxs)(fe,{children:[Object(z.jsxs)(me,{children:[Object(z.jsx)(he,{children:"\u6211\u7684\u7b2c\u4e00\u500bBlog"}),Object(z.jsxs)(pe,{children:[Object(z.jsx)(xe,{to:"/",$active:"/"===n.pathname,children:"\u9996\u9801"}),c&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(xe,{to:"/new-post",$active:"/new-post"===n.pathname,children:"\u767c\u5e03\u6587\u7ae0"}),Object(z.jsx)(xe,{to:"/about",$active:"/about"===n.pathname,children:"\u95dc\u65bc\u6211"})]}),Object(z.jsx)(xe,{to:"/message",$active:"/message"===n.pathname,children:"\u8a2a\u5ba2\u7559\u8a00\u677f"})]})]}),Object(z.jsxs)(pe,{children:[!c&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(xe,{to:"/login",$active:"/login"===n.pathname,children:"\u767b\u5165"}),Object(z.jsx)(xe,{to:"/register",$active:"/register"===n.pathname,children:"\u8a3b\u518a"})]}),c&&Object(z.jsx)(xe,{onClick:function(){g(""),r(null),"/"!==n.pathname&&e.push("/")},children:"\u767b\u51fa"})]})]})}var ve,ye,ke,we,Se,ze,Ce,Fe,Ie,qe,Ee,Ae,Pe,De,$e=t(15),Le=t(20),Ne="https://student-json-api.lidemy.me/comments",Te=f.b.div(ve||(ve=Object(O.a)(["\n  max-width: 480px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),_e=f.b.h1(ye||(ye=Object(O.a)(["\n  font-size: 2rem;\n  font-weight: bold;\n  text-align: center;\n"]))),Je=f.b.div(ke||(ke=Object(O.a)(["\n  margin: 10px;\n"]))),Be=f.b.input(we||(we=Object(O.a)(["\n  margin-bottom: 10px;\n"]))),Ue=f.b.textarea(Se||(Se=Object(O.a)(["\n  display: block;\n  width: 100%;\n"]))),He=f.b.button(ze||(ze=Object(O.a)(["\n  margin-top: 8px;\n  font-size: 1rem;\n"]))),Me=f.b.div(Ce||(Ce=Object(O.a)(["\n  margin: 10px;\n"]))),Re=f.b.div(Fe||(Fe=Object(O.a)(["\n  padding: 20px;\n\n  & + & {\n    border-top: 1px solid black;\n  }\n"]))),Ve=f.b.div(Ie||(Ie=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 10px;\n  border-bottom: 1px solid gray;\n"]))),Ge=f.b.p(qe||(qe=Object(O.a)([""]))),Ke=f.b.p(Ee||(Ee=Object(O.a)([""]))),Qe=f.b.p(Ae||(Ae=Object(O.a)(["\n  margin-top: 10px;\n"]))),We=f.b.div(Pe||(Pe=Object(O.a)(["\n  color: red;\n"])));function Xe(n){var e=n.children,t=n.author,c=n.time;return Object(z.jsxs)(Re,{children:[Object(z.jsxs)(Ve,{children:[Object(z.jsx)(Ge,{children:t}),Object(z.jsx)(Ke,{children:c})]}),Object(z.jsx)(Qe,{children:e})]})}var Ye,Ze=f.b.div(De||(De=Object(O.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function nt(){var n=Object(d.useState)(null),e=Object(l.a)(n,2),t=e[0],c=e[1],r=Object(d.useState)(null),a=Object(l.a)(r,2),i=a[0],o=a[1],s=Object(d.useState)({nickname:"",body:""}),b=Object(l.a)(s,2),u=b[0],j=b[1],O=Object(d.useState)(),f=Object(l.a)(O,2),h=f[0],p=f[1],x=Object(d.useState)(!1),g=Object(l.a)(x,2),v=g[0],y=g[1],k=u.nickname,w=u.body,S=function(){return fetch(Ne+"?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){o(n.message)}))},C=function(n){var e=n.target.value,t=n.target.name;j(Object(Le.a)(Object(Le.a)({},u),{},Object($e.a)({},t,e)))},F=function(){p(null)};return Object(d.useEffect)((function(){S()}),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(m,{}),Object(z.jsxs)(Te,{children:[v&&Object(z.jsx)(Ze,{children:"loading..."}),Object(z.jsx)(_e,{children:"\u7559\u8a00\u677f"}),Object(z.jsxs)(Je,{children:["\u66b1\u7a31\uff1a",Object(z.jsx)(Be,{name:"nickname",value:k,onChange:C,onFocus:F}),Object(z.jsx)(Ue,{name:"body",value:w,onChange:C,onFocus:F,rows:10}),Object(z.jsx)(He,{onClick:function(n){n.preventDefault(),v||(y(!0),fetch(Ne,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(u)}).then((function(n){return n.json()})).then((function(n){y(!1),0!==n.ok?(j({nickname:"",body:""}),S()):p(n.message)})).catch((function(n){y(!1),p(n.message)})))},children:"\u9001\u51fa"}),h&&Object(z.jsx)(We,{children:h})]}),i&&Object(z.jsxs)(We,{children:["something went wrong. ",i.toString()]}),t&&0===t.length&&Object(z.jsx)(We,{children:"No message fetched"}),Object(z.jsx)(Me,{children:t&&t.map((function(n){return Object(z.jsx)(Xe,{children:n.body,author:n.nickname,time:new Date(n.createdAt).toLocaleString()},n.id)}))})]})]})}var et=f.b.div(Ye||(Ye=Object(O.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n  padding-top: 64px;\n  font-size: 1rem;\n"])));function tt(){var n=Object(d.useState)(null),e=Object(l.a)(n,2),t=e[0],c=e[1];return Object(d.useEffect)((function(){v()&&S().then((function(n){n.ok&&c(n.data)}))}),[]),Object(z.jsx)(G.Provider,{value:{user:t,setUser:c},children:Object(z.jsx)(h.a,{basename:"/blog",children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(m,{}),Object(z.jsxs)(et,{children:[Object(z.jsx)(ge,{}),Object(z.jsxs)(p.c,{children:[Object(z.jsx)(p.a,{path:"/message",children:Object(z.jsx)(nt,{})}),Object(z.jsx)(p.a,{path:"/about",children:Object(z.jsx)(Hn,{})}),Object(z.jsx)(p.a,{path:"/login",children:Object(z.jsx)(Z,{})}),Object(z.jsx)(p.a,{path:"/register",children:Object(z.jsx)(On,{})}),Object(z.jsx)(p.a,{path:"/posts/:articleId",children:Object(z.jsx)(qn,{})}),Object(z.jsx)(p.a,{path:"/new-post",children:Object(z.jsx)(te,{})}),Object(z.jsx)(p.a,{path:"/edit-page/:articleId",children:Object(z.jsx)(Oe,{})}),Object(z.jsx)(p.a,{exact:!0,path:"/",children:Object(z.jsx)(L,{})})]})]})]})})})}j.a.render(Object(z.jsx)(tt,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.695023a5.chunk.js.map