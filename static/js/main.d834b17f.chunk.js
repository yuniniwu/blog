(this["webpackJsonpmsg-board"]=this["webpackJsonpmsg-board"]||[]).push([[0],{22:function(n,e,t){"use strict";t.r(e);var o,c,a,i,r,s,b,d,l,j,u,h,m,p,f,O=t(0),g=t(11),x=t.n(g),y=t(5),v=t(8),k=t(4),w=t(2),S=t(3),q=Object(S.a)(o||(o=Object(w.a)(["\n/*\n  CSS reset \n  http://meyerweb.com/eric/tools/css/reset/ \n  v2.0 | 20110126\n  License: none (public domain)\n*/\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  \n  /* below is not part of css reset */\n  body {\n    background-color: #e2e1e1;\n  }\n"]))),z=t(1),C="https://student-json-api.lidemy.me/comments",F=S.b.div(c||(c=Object(w.a)(["\n  max-width: 480px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),J=S.b.h1(a||(a=Object(w.a)(["\n  font-size: 2rem;\n  font-weight: bold;\n  text-align: center;\n"]))),L=S.b.div(i||(i=Object(w.a)(["\n  margin: 10px;\n"]))),A=S.b.input(r||(r=Object(w.a)(["\n  margin-bottom: 10px;\n"]))),D=S.b.textarea(s||(s=Object(w.a)(["\n  display: block;\n  width: 100%;\n"]))),E=S.b.button(b||(b=Object(w.a)(["\n  margin-top: 8px;\n  font-size: 1rem;\n"]))),N=S.b.div(d||(d=Object(w.a)(["\n  margin: 10px;\n"]))),T=S.b.div(l||(l=Object(w.a)(["\n  padding: 20px;\n\n  & + & {\n    border-top: 1px solid black;\n  }\n"]))),_=S.b.div(j||(j=Object(w.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 10px;\n  border-bottom: 1px solid gray;\n"]))),B=S.b.p(u||(u=Object(w.a)([""]))),H=S.b.p(h||(h=Object(w.a)([""]))),I=S.b.p(m||(m=Object(w.a)(["\n  margin-top: 10px;\n"]))),M=S.b.div(p||(p=Object(w.a)(["\n  color: red;\n"])));function P(n){var e=n.children,t=n.author,o=n.time;return Object(z.jsxs)(T,{children:[Object(z.jsxs)(_,{children:[Object(z.jsx)(B,{children:t}),Object(z.jsx)(H,{children:o})]}),Object(z.jsx)(I,{children:e})]})}var G=S.b.div(f||(f=Object(w.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function K(){var n=Object(O.useState)(null),e=Object(k.a)(n,2),t=e[0],o=e[1],c=Object(O.useState)(null),a=Object(k.a)(c,2),i=a[0],r=a[1],s=Object(O.useState)({nickname:"",body:""}),b=Object(k.a)(s,2),d=b[0],l=b[1],j=Object(O.useState)(),u=Object(k.a)(j,2),h=u[0],m=u[1],p=Object(O.useState)(!1),f=Object(k.a)(p,2),g=f[0],x=f[1],w=d.nickname,S=d.body,T=function(){return fetch(C+"?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){o(n)})).catch((function(n){r(n.message)}))},_=function(n){var e=n.target.value,t=n.target.name;l(Object(v.a)(Object(v.a)({},d),{},Object(y.a)({},t,e)))},B=function(){m(null)};return Object(O.useEffect)((function(){T()}),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(q,{}),Object(z.jsxs)(F,{children:[g&&Object(z.jsx)(G,{children:"loading..."}),Object(z.jsx)(J,{children:"\u7559\u8a00\u677f"}),Object(z.jsxs)(L,{children:["\u66b1\u7a31\uff1a",Object(z.jsx)(A,{name:"nickname",value:w,onChange:_,onFocus:B}),Object(z.jsx)(D,{name:"body",value:S,onChange:_,onFocus:B,rows:10}),Object(z.jsx)(E,{onClick:function(n){n.preventDefault(),g||(x(!0),fetch(C,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(d)}).then((function(n){return n.json()})).then((function(n){x(!1),0!==n.ok?(l({nickname:"",body:""}),T()):m(n.message)})).catch((function(n){x(!1),m(n.message)})))},children:"\u9001\u51fa"}),h&&Object(z.jsx)(M,{children:h})]}),i&&Object(z.jsxs)(M,{children:["something went wrong. ",i.toString()]}),t&&0===t.length&&Object(z.jsx)(M,{children:"No message fetched"}),Object(z.jsx)(N,{children:t&&t.map((function(n){return Object(z.jsx)(P,{children:n.body,author:n.nickname,time:new Date(n.createdAt).toLocaleString()},n.id)}))})]})]})}x.a.render(Object(z.jsx)(K,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d834b17f.chunk.js.map