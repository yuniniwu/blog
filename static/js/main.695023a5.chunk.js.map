{"version":3,"sources":["constants/style.js","utils.js","WebAPI.js","pages/HomePage/HomePage.js","context.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/ArticlePage/ArticlePage.js","pages/AboutPage/AboutPage.js","pages/NewPostPage/NewPostPage.js","pages/EditPage/EditPage.js","components/Header/Header.js","components/MessageBoard/MessageBoard.js","components/App/App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPostByRange","offset","limit","fetch","then","res","json","getArticle","postId","getMe","headers","authorization","Container","styled","div","PostContainer","PostTitle","Link","PostTime","Post","post","to","id","title","Date","createdAt","toLocaleString","PaginationWrap","PaginationList","a","prop","$active","Button","onClick","children","Pagination","pageArray","handlePageChanged","currentPage","handleCurrentPosts","map","item","HomePage","useState","posts","setPosts","setCurrentPage","currentPosts","setCurrentPosts","useLayoutEffect","totalPage","Math","ceil","length","i","push","useEffect","useCallback","e","target","innerText","clickedPage","Number","AuthContext","createContext","LoginForm","form","TextInput","input","SubmitInput","props","disabled","ErrorMessage","LoginPage","setUser","useContext","username","setUsername","password","setPassword","errMessage","setErrMessage","history","useHistory","isDisabled","setIsDisabled","handleInputFocus","onSubmit","preventDefault","method","body","JSON","stringify","login","data","ok","message","response","value","onChange","onFocus","type","RegisterPage","nickname","setNickname","register","ArticleContainer","Title","h2","ArticleInfo","Author","p","ArticleTime","ArticleBody","EditArticleButton","Article","articleId","user","article","setArticle","isEdit","setIsEdit","userId","ArticlePage","useParams","UserInfo","Quote","Content","AboutPage","alert","PostForm","TitleInput","BodyInput","textarea","NewPostPage","setTitle","setBody","newPost","EditPage","valueOf","editPost","Wrapper","LeftContainer","Brand","h1","NavList","nav","NavItem","Header","location","useLocation","pathname","API_ENDPOINT","MessageForm","MessageNickName","MessageTextArea","SubmitButton","button","MessageList","MessageContainer","MessageHeader","MessageTime","MessageBody","MessageItem","author","time","Loading","MessageBoard","messages","setMessages","messageApiError","setMessageApiError","setValue","postMessageError","setPostMessageError","isLoadingPostMessage","setIsLoadingPostMessage","fetchMessages","catch","err","handleInputChange","changedValue","name","rows","toString","App","Provider","basename","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.695023a5.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n/*\n  CSS reset \n  http://meyerweb.com/eric/tools/css/reset/ \n  v2.0 | 20110126\n  License: none (public domain)\n*/\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  \n  /* below is not part of css reset */\n  body {\n    background-color: #FFF;\n  }\n\n`;\n\nexport default GlobalStyle;\n\nexport const MEDIA_QUERY_MD = '@media screen and (max-width: 768px)';\n","const TOKEN_NAME = 'token';\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import { getAuthToken } from './utils';\n\nconst BASE_URL = 'https://student-json-api.lidemy.me';\n\nexport const getPost = () => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getPostByRange = (offset, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_start=${offset}&_limit=${limit}`\n  ).then((res) => res.json());\n};\n\nexport const getArticle = (postId) => {\n  return fetch(`${BASE_URL}/posts/${postId}`).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      username: username,\n      password: password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const register = (username, password, nickname) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      nickname: nickname,\n      username: username,\n      password: password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const newPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'PUT',\n    headers: {\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      title: title,\n      body: body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const editPost = (id, title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      title: title,\n      body: body,\n      createdAt: new Date().valueOf(),\n    }),\n  }).then((res) => res.json());\n};\n\nexport const deletePost = (id) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'DELETE',\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n","import { useState, useCallback, useLayoutEffect, useEffect } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { getPost, getPostByRange } from '../../WebAPI';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n`;\n\nconst PostContainer = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  border-bottom: 1px solid #555;\n`;\n\nconst PostTitle = styled(Link)`\n  font-size: 1.5rem;\n  text-decoration: none;\n  color: black;\n`;\n\nconst PostTime = styled.div`\n  color: rgba(0, 0, 0, 0.5);\n`;\n\nfunction Post({ post }) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/posts/${post.id}`}>{post.title}</PostTitle>\n      <PostTime>{new Date(post.createdAt).toLocaleString()}</PostTime>\n    </PostContainer>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.object,\n};\n\nconst PaginationWrap = styled.div`\n  text-align: center;\n  padding: 1rem 0;\n  font-size: 1.2rem;\n\n  p {\n    margin-top: 1rem;\n  }\n\n  button {\n    font-size: 1.2rem;\n    margin: 0 1rem;\n  }\n`;\n\nconst PaginationList = styled.a`\n  padding: 0 1rem;\n  cursor: pointer;\n\n  ${(prop) =>\n    prop.$active &&\n    `\n      background: rgba(0,0,0,0.15)\n    `}\n`;\n\nfunction Button({ onClick, children }) {\n  return <button onClick={onClick}>{children}</button>;\n}\n\nfunction Pagination({\n  pageArray,\n  handlePageChanged,\n  currentPage,\n  handleCurrentPosts,\n}) {\n  return (\n    <PaginationWrap>\n      <Button onClick={handlePageChanged}>上一頁</Button>\n      {pageArray.map((item) => {\n        return (\n          <PaginationList\n            key={item}\n            $active={currentPage === item}\n            onClick={handleCurrentPosts}\n          >\n            {item}\n          </PaginationList>\n        );\n      })}\n      <Button onClick={handlePageChanged}>下一頁</Button>\n    </PaginationWrap>\n  );\n}\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentPosts, setCurrentPosts] = useState(posts);\n  const limit = 5;\n\n  useLayoutEffect(() => {\n    // get posts - all\n    getPost().then((posts) => setPosts(posts));\n    // get posts - only 1st page\n    getPostByRange(0, limit).then((posts) => {\n      setCurrentPosts(posts);\n    });\n  }, []);\n\n  const totalPage = Math.ceil(posts.length / limit);\n\n  // for pagination\n  const pageArray = [];\n  for (let i = 1; i <= totalPage; i++) {\n    pageArray.push(i);\n  }\n\n  useEffect(() => {\n    getPostByRange((currentPage - 1) * limit, limit).then((posts) =>\n      setCurrentPosts(posts)\n    );\n  }, [currentPage]);\n\n  const handlePageChanged = useCallback(\n    (e) => {\n      const target = e.target.innerText;\n\n      if (target === '上一頁') {\n        if (currentPage <= 1) return;\n        setCurrentPage((currentPage) => currentPage - 1);\n      }\n\n      if (target === '下一頁') {\n        if (currentPage >= totalPage) return;\n        setCurrentPage((currentPage) => currentPage + 1);\n      }\n    },\n    [currentPage, totalPage]\n  );\n\n  const handleCurrentPosts = useCallback((e) => {\n    const clickedPage = Number(e.target.innerText);\n    setCurrentPage(clickedPage);\n  }, []);\n\n  return (\n    <Container>\n      {currentPosts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n      <Pagination\n        pageArray={pageArray}\n        handlePageChanged={handlePageChanged}\n        currentPage={currentPage}\n        handleCurrentPosts={handleCurrentPosts}\n      />\n    </Container>\n  );\n}\n","import { createContext } from 'react';\n\nexport const AuthContext = createContext(null);\n","import { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { login, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../utils.js';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n`;\n\nconst LoginForm = styled.form`\n  font-size: 1.2rem;\n`;\n\nconst TextInput = styled.input`\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n`;\n\nconst SubmitInput = styled.input`\n  text-decoration: none;\n  font-size: 1.2rem;\n  padding: 0.5rem 1rem;\n  background: #555;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ${(props) =>\n    props.disabled === true &&\n    `\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  `}\n`;\n\nconst ErrorMessage = styled.div`\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n`;\n\nexport default function LoginPage() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errMessage, setErrMessage] = useState('');\n  const history = useHistory();\n  // disabled submit button or not\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(username, password).then((data) => {\n      if (data.ok === 0) {\n        setIsDisabled(true);\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsDisabled(true);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        history.push('/');\n      });\n    });\n    setUsername('');\n    setPassword('');\n    setIsDisabled(false);\n  };\n\n  const handleUserChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrMessage('');\n    setIsDisabled(false);\n  };\n\n  return (\n    <Container>\n      <LoginForm onSubmit={handleSubmit}>\n        <div>\n          帳號:\n          <TextInput\n            value={username}\n            onChange={handleUserChange}\n            onFocus={handleInputFocus}\n          />\n        </div>\n        <div>\n          密碼\n          <TextInput\n            value={password}\n            onChange={handlePasswordChange}\n            onFocus={handleInputFocus}\n            type='password'\n          />\n        </div>\n\n        <SubmitInput type='submit' value={'登入'} disabled={isDisabled} />\n        {errMessage && <ErrorMessage>{errMessage}</ErrorMessage>}\n      </LoginForm>\n    </Container>\n  );\n}\n","import { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { register, getMe } from '../../WebAPI';\nimport { setAuthToken } from '../../utils.js';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n`;\n\nconst LoginForm = styled.form`\n  font-size: 1.2rem;\n`;\n\nconst TextInput = styled.input`\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n`;\n\nconst SubmitInput = styled.input`\n  text-decoration: none;\n  font-size: 1.2rem;\n  padding: 0.5rem 1rem;\n  background: #555;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ${(props) =>\n    props.disabled === true &&\n    `\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  `}\n`;\n\nconst ErrorMessage = styled.div`\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n`;\n\nexport default function RegisterPage() {\n  const { setUser } = useContext(AuthContext);\n  const [nickname, setNickname] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errMessage, setErrMessage] = useState('');\n  const history = useHistory();\n  // disabled submit button or not\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    register(username, password, nickname).then((data) => {\n      if (data.ok === 0) {\n        setIsDisabled(true);\n        return setErrMessage(data.message);\n      }\n      setAuthToken(data.token);\n\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setAuthToken(null);\n          setIsDisabled(true);\n          return setErrMessage(response.message);\n        }\n        setUser(response.data);\n        history.push('/');\n      });\n    });\n    setNickname('');\n    setUsername('');\n    setPassword('');\n    setIsDisabled(false);\n  };\n\n  const handleNicknameChange = (e) => {\n    setNickname(e.target.value);\n  };\n\n  const handleUserChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrMessage('');\n    setIsDisabled(false);\n  };\n\n  return (\n    <Container>\n      <LoginForm onSubmit={handleSubmit}>\n        <div>\n          暱稱：\n          <TextInput\n            value={nickname}\n            onChange={handleNicknameChange}\n            onFocus={handleInputFocus}\n          />\n        </div>\n        <div>\n          帳號：\n          <TextInput\n            value={username}\n            onChange={handleUserChange}\n            onFocus={handleInputFocus}\n          />\n        </div>\n        <div>\n          密碼：\n          <TextInput\n            value={password}\n            onChange={handlePasswordChange}\n            onFocus={handleInputFocus}\n            type='password'\n          />\n        </div>\n\n        <SubmitInput type='submit' value={'註冊'} disabled={isDisabled} />\n        {errMessage && <ErrorMessage>{errMessage}</ErrorMessage>}\n      </LoginForm>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { getArticle } from '../../WebAPI';\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n`;\n\nconst ArticleContainer = styled.div`\n  padding: 16px;\n`;\n\nconst Title = styled.h2`\n  font-size: 1.5rem;\n  clear: both;\n`;\n\nconst ArticleInfo = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n`;\n\nconst Author = styled.p``;\n\nconst ArticleTime = styled.p``;\n\nconst ArticleBody = styled.p`\n  white-space: pre-wrap;\n`;\n\nconst EditArticleButton = styled(Link)`\n  font-size: 1.2rem;\n  display: inline-block;\n  background: #555;\n  color: #fff;\n  border: 1px solid black;\n  text-decoration: none;\n  padding: 0.4rem 0.8rem;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  transition: all 0.3s;\n  float: right;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n`;\n\nfunction Article({ articleId, user }) {\n  const [article, setArticle] = useState([]);\n  const [isEdit, setIsEdit] = useState(false);\n\n  useEffect(() => {\n    getArticle(articleId).then((data) => setArticle(data));\n  }, [articleId]);\n\n  useEffect(() => {\n    user && user.id === article.userId && setIsEdit(true);\n  }, [user, article.userId]);\n\n  return (\n    <ArticleContainer>\n      {isEdit && (\n        <EditArticleButton to={`/edit-page/${articleId}`} children='編輯文章' />\n      )}\n      <Title>{article.title}</Title>\n      <ArticleInfo>\n        <Author>作者：{article.userId}</Author>\n        <ArticleTime>\n          {new Date(article.createdAt).toLocaleString()}\n        </ArticleTime>\n      </ArticleInfo>\n      <ArticleBody>{article.body}</ArticleBody>\n    </ArticleContainer>\n  );\n}\n\nArticle.propTypes = {\n  articleId: PropTypes.string,\n  user: PropTypes.object,\n};\n\nexport default function ArticlePage() {\n  let { articleId } = useParams();\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Container>\n      <Article articleId={articleId} user={user}></Article>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport { useContext } from 'react';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n`;\n\nconst Title = styled.h2`\n  font-size: 1.5rem;\n  padding-left: 2rem;\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 1rem;\n`;\n\nconst Author = styled.p`\n  padding-left: 2rem;\n\n  span {\n    color: blue;\n    font-weight: bold;\n  }\n`;\n\nconst UserInfo = styled.div`\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Quote = styled.p`\n  width: 50%;\n  font-size: 2rem;\n  font-weight: bold;\n  color: #555;\n`;\n\nconst Content = styled.p`\n  width: 50%;\n  white-space: pre-wrap;\n`;\n\nexport default function AboutPage() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Container>\n      {!user && alert('請先登入')}\n      {user && (\n        <>\n          <Title>About</Title>\n          <Author>\n            Hi, I am <span>{user.username}</span>\n          </Author>\n          <UserInfo>\n            <Quote>Either I will find a way, or I will make one.</Quote>\n            <Content>\n              Lorem ipsum dolor sit amet, cum mandamus euripidis ne. Enim\n              iracundia efficiendi ad vel. Et democritum repudiandae\n              definitiones eam. Duo autem dolore tritani id, vim error\n              reprehendunt at. Nec case eloquentiam referrentur id. At cum\n              ridens mentitum comprehensam, adhuc homero vim an, consul mentitum\n              concludaturque eu mel. Reque movet no vim, id dicam oblique duo.\n              Duo veniam oporteat ne, utinam ridens forensibus sit at. Est ea\n              verterem delicatissimi, case aliquam vix ei. Ad scripta impedit\n              oporteat vix. Vix elitr audiam singulis cu. Ius causae molestie\n              deserunt ea, cum ex meis integre scripserit. Blandit dissentiet\n              eam cu, ius id erat corpora, sea cu volumus imperdiet\n              definitionem. Et vidit debitis mea, vix quod menandri adversarium\n              ad.\n            </Content>\n          </UserInfo>\n        </>\n      )}\n    </Container>\n  );\n}\n","import { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\nimport { newPost } from '../../WebAPI';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1.2rem;\n`;\n\nconst PostForm = styled.form``;\n\nconst TitleInput = styled.input`\n  width: 70%;\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n`;\n\nconst BodyInput = styled.textarea`\n  width: 90%;\n  height: 300px;\n  margin-bottom: 1rem;\n  font-size: 1.2rem;\n`;\n\nconst SubmitInput = styled.input`\n  display: block;\n  text-decoration: none;\n  background: #6699cc;\n  color: white;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ${(props) =>\n    props.disabled === true &&\n    `\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n\n  `}\n`;\n\nconst ErrorMessage = styled.div`\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n`;\n\nexport default function NewPostPage() {\n  const { user } = useContext(AuthContext);\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [errMessage, setErrMessage] = useState('');\n  const history = useHistory();\n  // disabled submit button or not\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    newPost(title, body).then((data) => {\n      if (data.ok === 0) {\n        setIsDisabled(true);\n        return setErrMessage(data.message);\n      }\n      history.push('/');\n      alert('新增文章成功');\n    });\n\n    setTitle('');\n    setBody('');\n    setIsDisabled(false);\n  };\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setBody(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrMessage('');\n    setIsDisabled(false);\n  };\n\n  return (\n    <Container>\n      {user && (\n        <PostForm onSubmit={handleSubmit}>\n          文章標題\n          <TitleInput\n            value={title}\n            onChange={handleTitleChange}\n            onFocus={handleInputFocus}\n          />\n          <BodyInput\n            value={body}\n            onChange={handleBodyChange}\n            onFocus={handleInputFocus}\n          />\n          <SubmitInput type='submit' value={'新增文章'} disabled={isDisabled} />\n          {errMessage && <ErrorMessage>{errMessage}</ErrorMessage>}\n        </PostForm>\n      )}\n    </Container>\n  );\n}\n","import { useState, useContext, useEffect, useLayoutEffect } from 'react';\nimport styled from 'styled-components';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getArticle, editPost } from '../../WebAPI';\nimport { AuthContext } from '../../context.js';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1.2rem;\n`;\n\nconst PostForm = styled.form``;\n\nconst TitleInput = styled.input`\n  width: 70%;\n  margin: 0 0 1rem 1rem;\n  padding: 0.5rem;\n  font-size: 1.2rem;\n`;\n\nconst BodyInput = styled.textarea`\n  width: 90%;\n  height: 300px;\n  margin-bottom: 1rem;\n  font-size: 1.2rem;\n`;\n\nconst SubmitInput = styled.input`\n  display: block;\n  text-decoration: none;\n  background: #6699cc;\n  color: white;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.3s;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  ${(props) =>\n    props.disabled === true &&\n    `\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n\n    &:hover {\n      transform: none;\n    }\n  `}\n`;\n\nconst ErrorMessage = styled.div`\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n`;\n\nexport default function EditPage() {\n  const { articleId } = useParams();\n  const { user } = useContext(AuthContext);\n  const [article, setArticle] = useState([]);\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [errMessage, setErrMessage] = useState('');\n  const history = useHistory();\n  // disabled submit button or not\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  useLayoutEffect(() => {\n    getArticle(articleId).then((data) => {\n      setArticle(data);\n    });\n  }, [articleId]);\n\n  useEffect(() => {\n    setTitle(article.title);\n    setBody(article.body);\n  }, [article]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    editPost(articleId, title, body).then((data) => {\n      if (data.ok === 0) {\n        setIsDisabled(true);\n        return setErrMessage(data.message);\n      }\n      history.push(`/posts/${articleId}`);\n      alert('編輯成功');\n    });\n    setIsDisabled(false);\n  };\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setBody(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrMessage('');\n    setIsDisabled(false);\n  };\n\n  return (\n    <Container>\n      {user && (\n        <PostForm onSubmit={handleSubmit}>\n          文章標題\n          <TitleInput\n            value={title}\n            onChange={handleTitleChange}\n            onFocus={handleInputFocus}\n          />\n          <BodyInput\n            value={body}\n            onChange={handleBodyChange}\n            onFocus={handleInputFocus}\n          />\n          <SubmitInput type='submit' value={'編輯完成'} disabled={isDisabled} />\n          {errMessage && <ErrorMessage>{errMessage}</ErrorMessage>}\n        </PostForm>\n      )}\n    </Container>\n  );\n}\n","import { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../context.js';\nimport { setAuthToken } from '../../utils.js';\n\nconst Wrapper = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid black;\n  padding: 0 2rem;\n  font-size: 1.2rem;\n  box-sizing: border-box;\n  background: #fff;\n  color: #555;\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst Brand = styled.h1`\n  font-weight: bold;\n  font-size: 2rem;\n  margin-right: 1rem;\n`;\n\nconst NavList = styled.nav`\n  display: flex;\n  align-items: center;\n  height: 64px;\n`;\n\nconst NavItem = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100px;\n  height: 64px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) =>\n    props.$active &&\n    `\n    background: rgba(0,0,0,0.15)\n  `}\n`;\n\nexport default function Header() {\n  const location = useLocation();\n  const history = useHistory();\n  const { user, setUser } = useContext(AuthContext);\n\n  const handleLogout = () => {\n    setAuthToken('');\n    setUser(null);\n    if (location.pathname !== '/') {\n      history.push('/');\n    }\n  };\n\n  return (\n    <Wrapper>\n      <LeftContainer>\n        <Brand>我的第一個Blog</Brand>\n        <NavList>\n          <NavItem to='/' $active={location.pathname === '/'} children='首頁' />\n          {user && (\n            <>\n              <NavItem\n                to='/new-post'\n                $active={location.pathname === '/new-post'}\n                children='發布文章'\n              />\n              <NavItem\n                to='/about'\n                $active={location.pathname === '/about'}\n                children='關於我'\n              />\n            </>\n          )}\n          <NavItem\n            to='/message'\n            $active={location.pathname === '/message'}\n            children='訪客留言板'\n          />\n        </NavList>\n      </LeftContainer>\n      <NavList>\n        {!user && (\n          <>\n            <NavItem to='/login' $active={location.pathname === '/login'}>\n              登入\n            </NavItem>\n            <NavItem to='/register' $active={location.pathname === '/register'}>\n              註冊\n            </NavItem>\n          </>\n        )}\n        {user && <NavItem onClick={handleLogout}>登出</NavItem>}\n      </NavList>\n    </Wrapper>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport GlobalStyle from '../../constants/style.js';\nimport PropTypes from 'prop-types';\n\nconst API_ENDPOINT = 'https://student-json-api.lidemy.me/comments';\n\nconst Container = styled.div`\n  max-width: 480px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n`;\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: bold;\n  text-align: center;\n`;\n\nconst MessageForm = styled.div`\n  margin: 10px;\n`;\n\nconst MessageNickName = styled.input`\n  margin-bottom: 10px;\n`;\nconst MessageTextArea = styled.textarea`\n  display: block;\n  width: 100%;\n`;\nconst SubmitButton = styled.button`\n  margin-top: 8px;\n  font-size: 1rem;\n`;\n\nconst MessageList = styled.div`\n  margin: 10px;\n`;\n\nconst MessageContainer = styled.div`\n  padding: 20px;\n\n  & + & {\n    border-top: 1px solid black;\n  }\n`;\nconst MessageHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 10px;\n  border-bottom: 1px solid gray;\n`;\nconst Author = styled.p``;\nconst MessageTime = styled.p``;\n\nconst MessageBody = styled.p`\n  margin-top: 10px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n\nfunction MessageItem({ children, author, time }) {\n  return (\n    <MessageContainer>\n      <MessageHeader>\n        <Author>{author}</Author>\n        <MessageTime>{time}</MessageTime>\n      </MessageHeader>\n      <MessageBody children={children} />\n    </MessageContainer>\n  );\n}\n\nMessageItem.propTypes = {\n  children: PropTypes.node,\n  author: PropTypes.string,\n  time: PropTypes.string,\n};\n\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default function MessageBoard() {\n  const [messages, setMessages] = useState(null);\n  const [messageApiError, setMessageApiError] = useState(null);\n  const [value, setValue] = useState({ nickname: '', body: '' });\n  const [postMessageError, setPostMessageError] = useState();\n  const [isLoadingPostMessage, setIsLoadingPostMessage] = useState(false);\n\n  const { nickname, body } = value;\n\n  const fetchMessages = () => {\n    return fetch(API_ENDPOINT + '?_sort=createdAt&_order=desc')\n      .then((response) => response.json())\n      .then((data) => {\n        setMessages(data);\n      })\n      .catch((err) => {\n        setMessageApiError(err.message);\n      });\n  };\n\n  const handleInputChange = (e) => {\n    const changedValue = e.target.value;\n    const name = e.target.name;\n    setValue({ ...value, [name]: changedValue });\n  };\n\n  const handleInputFocus = () => {\n    setPostMessageError(null);\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (isLoadingPostMessage) return;\n    setIsLoadingPostMessage(true);\n\n    fetch(API_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify(value),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setIsLoadingPostMessage(false);\n        // 如果 fetch 拿到的資料有問題的話\n        if (data.ok === 0) {\n          setPostMessageError(data.message);\n          return;\n        }\n        setValue({ nickname: '', body: '' });\n        fetchMessages();\n      })\n      .catch((err) => {\n        setIsLoadingPostMessage(false);\n        setPostMessageError(err.message);\n      });\n  };\n\n  useEffect(() => {\n    fetchMessages();\n  }, []);\n\n  return (\n    <>\n      <GlobalStyle />\n      <Container>\n        {isLoadingPostMessage && <Loading children={'loading...'} />}\n        <Title>留言板</Title>\n        <MessageForm>\n          暱稱：\n          <MessageNickName\n            name={'nickname'}\n            value={nickname}\n            onChange={handleInputChange}\n            onFocus={handleInputFocus}\n          />\n          <MessageTextArea\n            name={'body'}\n            value={body}\n            onChange={handleInputChange}\n            onFocus={handleInputFocus}\n            rows={10}\n          ></MessageTextArea>\n          <SubmitButton onClick={handleFormSubmit}>送出</SubmitButton>\n          {postMessageError && <ErrorMessage>{postMessageError}</ErrorMessage>}\n        </MessageForm>\n\n        {messageApiError && (\n          <ErrorMessage>\n            something went wrong. {messageApiError.toString()}\n          </ErrorMessage>\n        )}\n\n        {messages && messages.length === 0 && (\n          <ErrorMessage>No message fetched</ErrorMessage>\n        )}\n\n        <MessageList>\n          {messages &&\n            messages.map((message) => (\n              <MessageItem\n                key={message.id}\n                children={message.body}\n                author={message.nickname}\n                time={new Date(message.createdAt).toLocaleString()}\n              />\n            ))}\n        </MessageList>\n      </Container>\n    </>\n  );\n}\n","import styled from 'styled-components';\nimport GlobalStyle from '../../constants/style.js';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport HomePage from '../../pages/HomePage';\nimport LoginPage from '../../pages/LoginPage';\nimport RegisterPage from '../../pages/RegisterPage';\nimport ArticlePage from '../../pages/ArticlePage';\nimport AboutPage from '../../pages/AboutPage';\nimport NewPostPage from '../../pages/NewPostPage';\nimport EditPage from '../../pages/EditPage';\nimport Header from '../Header';\nimport MessageBoard from '../MessageBoard';\nimport { AuthContext } from '../../context.js';\nimport { getMe } from '../../WebAPI';\nimport { getAuthToken } from '../../utils';\n\nconst Container = styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding-top: 64px;\n  font-size: 1rem;\n`;\n\nexport default function App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    if (getAuthToken())\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n        }\n      });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Router basename='/blog'>\n        <>\n          <GlobalStyle />\n          <Container>\n            <Header />\n\n            {/* router */}\n            <Switch>\n              <Route path='/message'>\n                <MessageBoard />\n              </Route>\n              <Route path='/about'>\n                <AboutPage />\n              </Route>\n              <Route path='/login'>\n                <LoginPage />\n              </Route>\n              <Route path='/register'>\n                <RegisterPage />\n              </Route>\n              <Route path='/posts/:articleId'>\n                <ArticlePage />\n              </Route>\n              <Route path='/new-post'>\n                <NewPostPage />\n              </Route>\n              <Route path='/edit-page/:articleId'>\n                <EditPage />\n              </Route>\n              <Route exact path='/'>\n                <HomePage />\n              </Route>\n            </Switch>\n          </Container>\n        </>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}